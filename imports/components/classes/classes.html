<!--show the homepage-->
<div ng-show="$ctrl.isHome">
	<!--COPY THE HOMEPAGE CODE HERE-->
	<br>
	<br>
	<br>
	<button ng-click="$ctrl.isHome = false"> switch pages</button> <!--move the ng-click="$ctrl.isHome = false" to the submit of the search-->
	<br>
	<br>
	<br>
</div>


<!--show the rest of the app-->
<div ng-show="!$ctrl.isHome">
	<div class="row">
	  	<nav class="navbar navbar-default" role="navigation" id ="navbar">
		  <!-- Brand and toggle get grouped for better mobile display -->
		  <div class="navbar-header">
		    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		      <span class="sr-only">Toggle navigation</span>
		      <span class="icon-bar"></span>
		      <span class="icon-bar"></span>
		      <span class="icon-bar"></span>
		    </button>
		    <a class="navbar-brand" href="#" style="color:white">Cornell Reviews</a>
		  </div>

		  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		    <div class="nav navbar-nav navbar-right col-sm-5 col-md-5" >
		        <form class="navbar-form" role="search">
			        <div class="input-group" id="searchbar">
			            <input ng-model="$ctrl.query" ng-change="$ctrl.selectedClass = {}; $ctrl.isClassSelected = false" type="text" class="form-control" placeholder="Search">
			            <div class="input-group-btn">
			                <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
			            </div>
			        </div>
		        </form>
		    </div>
		    </div>
		</nav>
	</div>
	<div class="row">
		<div class="col-md-6">
			<header>
				<h1 class="subheader">Popular Classes</h1>
				<!-- <div>Selected Class: {{$ctrl.selectedClass }}</div> -->
			</header>
			<div>
				<ul>
				    <li ng-click="$ctrl.selectedClass = class; $ctrl.isClassSelected = true" ng-repeat="class in $ctrl.classes">
				    	{{class.classSub}} {{class.classNum}}: {{class.classTitle}}
				    </li>
				</ul>
			</div>
		</div>
		<div class="col-md-6">
			<div class = "panel panel-default" style="background-color: rgba(74,74,74,.1);">
			<div class = "panel-body">
			    <section>
			    	<div class = "form-group"> 
			    		<h1 class="subheader">Student Ratings</h1>
		    			<div>
							<div class = "panel panel-default">
							    <div class = "panel-body">
							    	<section>
							        	<div class="row">
							        		<div class="col-sm-4">
										    	<ng-gauge id="gauge1" type="arch" thick="14" size="160" cap="butt" value="$ctrl.qual" label="Overall Quality" append="/5">
										    	</ng-gauge> 
							        		</div>
							        		<div class="col-sm-4">
								        		<ng-gauge id="gauge2" type="arch" thick="14" size="160" cap="butt" value="$ctrl.diff" label="Level of Difficulty" append="/5">
											    </ng-gauge> 
							        		</div>
							        		<div class="col-sm-4">
							        			<ng-gauge id="gauge3" type="arch" thick="14" size="160" cap="butt" value="$ctrl.grade" label="Median Grade">
							    				</ng-gauge> 
				        					</div>
				        				</div>
				   					</section>
				  				</div>
							</div>
						</div>


			    		<form ng-submit="$ctrl.addReview($ctrl.newReview, $ctrl.selectedClass._id)">
					        <legend class="subheader">Your Review:</legend>
					        <div class = "panel panel-default">
					        <div class="panel-body">
					      	<textarea class = "text" ng-model="$ctrl.newReview.text" name="feedback" placeholder="Does your professor tell funny jokes? Leave your feedback here!" style="border: none; width: 100%"></textarea>
					      	</div>
					      	<hr>

							<script>
        						function update() {
    								document.getElementById("q").innerHTML = document.getElementById("a2").value;
    								document.getElementById("d").innerHTML = document.getElementById("a1").value;

								}</script>
					      	<div class="panel-body">
					      	<div class="row">
					      	<div class="col-sm-2">
					  			<h1 class="secondary-text">Overall Quality</h1>
					  		</div>
					  		<div class="col-sm-2">
					  			<div class="small-icon" id="sm1"> 
					  			<p id="q" align="center" style="color:white;">3</p>
					  			</div>
					  		</div>
					  		<input ng-model="$ctrl.newReview.quality" type="range" id="a2" name="qual" min="1" max="5" step="1" onchange="update()">
					  		</div>
					  		<br>

					      	<div class="col-sm-2">
					  			<h1 class="secondary-text">Level of Difficulty</h1>
					  		</div>
					  		<div class="col-sm-2">
					  		<div class="small-icon" id="sm2">
					  		<p id="d" align="center" style="color:white;">3</p>
					  		</div>
					  		</div>
					  		<input ng-model="$ctrl.newReview.diff" type="range" id="a1" name="diff" min="1" max="5" step="1" onchange="update()">
					  		<br>
					  		<br>
					  		Class Median
					  		<select ng-model="$ctrl.newReview.medGrade">
  								<option value="9">A+</option>
 							    <option value="8">A</option>
                                <option value="7">A-</option>
                                <option value="6">B+</option>
                                <option value="5">B</option>
					  			<option value="4">B-</option>
					  			<option value="3">C+</option>
					  			<option value="2">C</option>
					  			<option value="1">C-</option>
							</select>
					  		<br>
					  		<br>
					  		
					  		Attendence:
					    	<select ng-model="$ctrl.newReview.atten">
					  			<option value="1">Not Mandatory</option>
					  			<option value="0">Mandatory</option>
					  		</select>  

					  		</div>
					  		<br>
						</form>

					  		<h2  class="secondary-text">All posts are completely anonymous to ensure constructive, honest feedback. You must have previously been enrolled in the class to give feedback</h2></div>
					  		<input style="display: inline;" type="submit" value="Post"></input>
					  		</div>


			  </section>
			</div>
		</div>

		<section>
			<h1>Past Reviews</h1>
		</section>
		<div>
			<ul>
				<li ng-click="" ng-repeat="review in $ctrl.reviews">
					<!--repeat this code for as many reviews as present-->
					<div class = "panel panel-default">
						<div class= "panel-heading" id = "past">Name?</div>
						<div class = "panel-body">
						    <div class = "row">
						    	<div class = "col-sm-2">
						      		<div class = "panel panel-default">
						     			<div class = "panel-body">{{review.quality}}</div>
						      		</div>
						      		<div class = "panel panel-default">
						      			<div class = "panel-body">{{review.difficulty}}</div>
						      		</div>
						    	</div>
						    	<div class = "col-sm-2">
						      		<div class = "panel-body"> Overall Quality</div>
						      	    <div class = "panel-body"> Level of difficulty</div>
						    	</div>
						   		<div class = "review-text">{{review.text}}</div>
						    </div>
						</div>
					</div>
				</li>
			</ul>
		</div>
	</div>
</div>